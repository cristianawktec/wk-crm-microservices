import{d as C,y as M,u as V,l as A,C as B,c as r,e as t,t as n,p as O,i as l,q as d,s as c,h as v,r as m,n as j,o as i,_ as N}from"./index-5ee73346.js";import{A as D}from"./AiAnalysisModal-65f003c7.js";const I={class:"opportunity-detail"},R={key:0,class:"flex justify-center items-center py-12"},z={key:1,class:"max-w-4xl mx-auto"},E={class:"bg-white rounded-xl shadow-sm p-6 mb-6"},L={class:"flex items-start justify-between"},P={class:"flex-1"},S={class:"text-xl font-bold text-gray-900 mb-2"},$={class:"flex items-center space-x-4 text-sm text-gray-600"},q={class:"flex items-center gap-3"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},G={class:"bg-white rounded-xl shadow-sm p-6"},H={class:"text-2xl font-bold text-gray-900"},T={class:"bg-white rounded-xl shadow-sm p-6"},U={class:"text-2xl font-bold text-gray-900"},J={key:0,class:"bg-white rounded-xl shadow-sm p-6 mb-6"},K={class:"text-gray-700 whitespace-pre-wrap"},Q={key:1,class:"bg-white rounded-xl shadow-sm p-6 mb-6"},W={class:"flex items-center"},X={class:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold mr-3"},Y={class:"text-gray-700"},Z={class:"flex space-x-4"},tt={key:2,class:"text-center py-12"},et=C({__name:"OpportunityDetailView",setup(st){const f=M(),y=V(),u=m(!0),o=m(null),p=m(!1);A(async()=>{await h()});async function h(){u.value=!0;try{const s=f.params.id,e=await B.getOpportunity(s);o.value=e.data}catch(s){console.error("Erro ao carregar oportunidade:",s)}finally{u.value=!1}}function b(){y.push("/opportunities")}function x(){p.value=!0}function _(s){if(!s)return"—";const e=new Date(s),a={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return e.toLocaleDateString("pt-BR",a)}function w(s){return s?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s):"R$ 0,00"}function g(s){return s?typeof s=="string"?s:s.name:"Não atribuído"}function k(s){return{Aberta:"bg-blue-100 text-blue-800","Em Negociação":"bg-yellow-100 text-yellow-800","Proposta Enviada":"bg-purple-100 text-purple-800",Ganha:"bg-green-100 text-green-800",Perdida:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}return(s,e)=>{const a=j("router-link");return i(),r("div",I,[u.value?(i(),r("div",R,[...e[1]||(e[1]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):o.value?(i(),r("div",z,[e[10]||(e[10]=t("div",{class:"mb-6"},[t("h2",{class:"text-sm font-semibold text-gray-600"},"Detalhes Notificação")],-1)),t("div",E,[t("div",L,[t("div",P,[t("h1",S,n(o.value.title),1),t("div",$,[t("span",null,"Criada em "+n(_(o.value.created_at)),1),t("span",{class:O(["px-3 py-1 rounded-full text-xs font-medium",k(o.value.status)])},n(o.value.status),3)])]),t("div",q,[t("button",{onClick:x,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium inline-flex items-center gap-2",title:"Análise de IA da Oportunidade"},[...e[2]||(e[2]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5.36-5.36l.707-.707M5.05 5.05A9 9 0 1112 3c-4.4 0-8.27 2.903-9.657 6.82"})],-1),l(" IA Insights ",-1)])]),d(a,{to:"/opportunities",class:"text-gray-500 hover:text-gray-700",title:"Voltar para Oportunidades"},{default:c(()=>[...e[3]||(e[3]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1})])])]),t("div",F,[t("div",G,[e[4]||(e[4]=t("div",{class:"flex items-center mb-2"},[t("svg",{class:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("h3",{class:"text-sm font-medium text-gray-600"},"Valor")],-1)),t("p",H,n(w(o.value.value)),1)]),t("div",T,[e[5]||(e[5]=t("div",{class:"flex items-center mb-2"},[t("svg",{class:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),t("h3",{class:"text-sm font-medium text-gray-600"},"Probabilidade")],-1)),t("p",U,n(o.value.probability||0)+"%",1)])]),o.value.notes?(i(),r("div",J,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Observações",-1)),t("p",K,n(o.value.notes),1)])):v("",!0),o.value.seller?(i(),r("div",Q,[e[7]||(e[7]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Responsável",-1)),t("div",W,[t("div",X,n(g(o.value.seller).charAt(0).toUpperCase()),1),t("span",Y,n(g(o.value.seller)),1)])])):v("",!0),t("div",Z,[d(a,{to:"/opportunities",class:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-center font-medium"},{default:c(()=>[...e[8]||(e[8]=[l(" Voltar ",-1)])]),_:1}),t("button",{onClick:x,class:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center justify-center gap-2"},[...e[9]||(e[9]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5.36-5.36l.707-.707M5.05 5.05A9 9 0 1112 3c-4.4 0-8.27 2.903-9.657 6.82"})],-1),l(" IA Insights ",-1)])]),t("button",{onClick:b,class:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium"}," Editar ")])])):(i(),r("div",tt,[e[12]||(e[12]=t("p",{class:"text-gray-600"},"Oportunidade não encontrada",-1)),d(a,{to:"/opportunities",class:"text-indigo-600 hover:text-indigo-700 mt-4 inline-block"},{default:c(()=>[...e[11]||(e[11]=[l(" Voltar para oportunidades ",-1)])]),_:1})])),d(D,{"is-open":p.value,opportunity:o.value,onClose:e[0]||(e[0]=ot=>p.value=!1)},null,8,["is-open","opportunity"])])}}});const it=N(et,[["__scopeId","data-v-e5056d20"]]);export{it as default};
