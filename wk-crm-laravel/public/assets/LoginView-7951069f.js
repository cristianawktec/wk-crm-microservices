import{d as g,u as b,a as f,b as x,c as a,e as s,w as y,f as u,v as c,g as l,t as w,h as v,i as h,j as k,r as C,o as i}from"./index-8ff3b057.js";const V={class:"min-h-screen bg-gradient-to-br from-indigo-600 to-purple-700 flex items-center justify-center p-4"},S={class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8"},_={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},E={class:"text-sm text-red-600"},T=["disabled"],z={key:0},A={key:1,class:"flex items-center justify-center"},M=g({__name:"LoginView",setup(B){const m=b(),t=f(),d=x(),r=C({email:"",password:""}),p=async()=>{var n,e;try{await t.login(r.value.email,r.value.password),localStorage.removeItem("loggedOut"),await new Promise(o=>setTimeout(o,100)),console.log("âœ… Login normal completo. Token:",t.token?"presente":"ausente"),console.log("âœ… User:",t.user?"presente":"ausente"),d.success("Login realizado com sucesso!"),m.push("/")}catch(o){d.error(((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||"Erro ao fazer login")}};return(n,e)=>(i(),a("div",V,[s("div",S,[e[6]||(e[6]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"WK CRM"),s("p",{class:"text-gray-600"},"Portal do Cliente")],-1)),s("form",{onSubmit:y(p,["prevent"]),class:"space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),u(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>r.value.email=o),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"seu@email.com"},null,512),[[c,r.value.email]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Senha ",-1)),u(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>r.value.password=o),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"},null,512),[[c,r.value.password]])]),l(t).error?(i(),a("div",_,[s("p",E,w(l(t).error),1)])):v("",!0),s("button",{type:"submit",disabled:l(t).loading,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[l(t).loading?(i(),a("span",A,[...e[4]||(e[4]=[s("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),h(" Carregando... ",-1)])])):(i(),a("span",z,"Entrar"))],8,T),e[5]||(e[5]=s("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-3"},null,-1))],32),e[7]||(e[7]=k('<p class="mt-6 text-center text-sm text-gray-600"> Esqueceu sua senha? <a href="#" class="text-indigo-600 hover:text-indigo-500 font-medium">Recuperar</a></p><div class="mt-8 pt-6 border-t border-gray-200"><p class="text-center text-xs text-gray-500 mb-3">Acesso para administradores:</p><a href="/admin" target="_blank" class="block w-full text-center bg-gray-800 hover:bg-gray-900 text-white font-semibold py-2 px-4 rounded-lg transition-colors"> ðŸ“Š Ir para Painel Admin </a></div>',2))])]))}});export{M as default};
