import{d as h,u as v,a as k,b as _,c as d,e as o,w as C,f as b,v as f,g as r,t as L,h as S,i as V,j as A,r as z,o as c}from"./index-536667dc.js";const E={class:"min-h-screen bg-gradient-to-br from-indigo-600 to-purple-700 flex items-center justify-center p-4"},T={class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8"},R={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},q={class:"text-sm text-red-600"},B=["disabled"],M={key:0},N={key:1,class:"flex items-center justify-center"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},j=["disabled"],I=["disabled"],O=h({__name:"LoginView",setup(U){const u=v(),t=k(),n=_(),a=z({email:"",password:""}),x=async()=>{var i,e;try{await t.login(a.value.email,a.value.password),localStorage.removeItem("loggedOut"),await new Promise(s=>setTimeout(s,100)),console.log("âœ… Login normal completo. Token:",t.token?"presente":"ausente"),console.log("âœ… User:",t.user?"presente":"ausente"),n.success("Login realizado com sucesso!"),u.push("/")}catch(s){n.error(((e=(i=s.response)==null?void 0:i.data)==null?void 0:e.message)||"Erro ao fazer login")}},m=async(i,e,s)=>{var g,p;try{await t.login(i,e),localStorage.removeItem("loggedOut"),await new Promise(l=>setTimeout(l,100)),n.success(`Login rÃ¡pido ${s} realizado!`),u.push("/")}catch(l){n.error(((p=(g=l==null?void 0:l.response)==null?void 0:g.data)==null?void 0:p.message)||"Erro ao fazer login rÃ¡pido")}},w=async()=>{await m("customer@consultoriawk.com","123456","cliente")},y=async()=>{await m("admin@consultoriawk.com","Admin@2025","admin")};return(i,e)=>(c(),d("div",E,[o("div",T,[e[5]||(e[5]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"WK CRM"),o("p",{class:"text-gray-600"},"Portal do Cliente")],-1)),o("form",{onSubmit:C(x,["prevent"]),class:"space-y-6"},[o("div",null,[e[2]||(e[2]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),b(o("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.email=s),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"seu@email.com"},null,512),[[f,a.value.email]])]),o("div",null,[e[3]||(e[3]=o("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Senha ",-1)),b(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.password=s),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"},null,512),[[f,a.value.password]])]),r(t).error?(c(),d("div",R,[o("p",q,L(r(t).error),1)])):S("",!0),o("button",{type:"submit",disabled:r(t).loading,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r(t).loading?(c(),d("span",N,[...e[4]||(e[4]=[o("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),V(" Carregando... ",-1)])])):(c(),d("span",M,"Entrar"))],8,B),o("div",P,[o("button",{onClick:w,type:"button",disabled:r(t).loading,class:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," ðŸš€ Login RÃ¡pido (Cliente) ",8,j),o("button",{onClick:y,type:"button",disabled:r(t).loading,class:"w-full bg-amber-600 hover:bg-amber-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," ðŸ”‘ Login RÃ¡pido (Admin) ",8,I)])],32),e[6]||(e[6]=A('<p class="mt-6 text-center text-sm text-gray-600"> Esqueceu sua senha? <a href="#" class="text-indigo-600 hover:text-indigo-500 font-medium">Recuperar</a></p><div class="mt-8 pt-6 border-t border-gray-200"><p class="text-center text-xs text-gray-500 mb-3">Acesso para administradores:</p><a href="/admin" target="_blank" class="block w-full text-center bg-gray-800 hover:bg-gray-900 text-white font-semibold py-2 px-4 rounded-lg transition-colors"> ðŸ“Š Ir para Painel Admin </a></div>',2))])]))}});export{O as default};
