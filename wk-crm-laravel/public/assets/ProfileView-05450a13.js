import{d as h,b as _,l as w,c as l,e,t as n,h as g,w as k,f as p,v as m,r as c,z as P,C as y,o as r}from"./index-9430d62f.js";const C={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},U={class:"lg:col-span-1"},V={class:"bg-white rounded-xl shadow-sm p-6 text-center"},E={class:"w-32 h-32 mx-auto bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-4xl font-bold mb-4"},z={class:"text-xl font-bold text-gray-900"},M={class:"text-gray-600 mt-1"},S={key:0,class:"mt-4 px-4 py-2 bg-indigo-50 rounded-lg"},T={class:"text-sm text-indigo-700 font-medium"},j={class:"lg:col-span-2"},B={class:"bg-white rounded-xl shadow-sm p-6"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},q={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},D={class:"text-sm text-red-600"},I={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},A={class:"flex justify-end space-x-4"},F=["disabled"],G={key:0},H={key:1},L=h({__name:"ProfileView",setup(J){const f=_(),i=c(!1),d=c(null),u=c(!1),t=c({id:"",name:"",email:"",company:"",phone:""}),v=P(()=>(t.value.name||"U").split(" ").map(o=>o[0]).join("").toUpperCase().substring(0,2)),b=async()=>{try{const a=await y.getProfile();t.value={id:a.id,name:a.name,email:a.email,phone:a.phone||"",company:a.company||""}}catch(a){console.error("Erro ao carregar perfil:",a)}},x=async()=>{var a,o;i.value=!0,d.value=null,u.value=!1;try{const s=await y.updateProfile(t.value);t.value={id:s.id,name:s.name,email:s.email,phone:s.phone||"",company:s.company||""},u.value=!0,f.success("Perfil atualizado com sucesso!"),setTimeout(()=>{u.value=!1},3e3)}catch(s){d.value=((o=(a=s.response)==null?void 0:a.data)==null?void 0:o.message)||"Erro ao atualizar perfil",f.error("Erro ao atualizar perfil")}finally{i.value=!1}};return w(()=>{b()}),(a,o)=>(r(),l("div",null,[o[10]||(o[10]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Meu Perfil",-1)),e("div",C,[e("div",U,[e("div",V,[e("div",E,n(v.value),1),e("h2",z,n(t.value.name),1),e("p",M,n(t.value.email),1),t.value.company?(r(),l("div",S,[e("p",T,n(t.value.company),1)])):g("",!0)])]),e("div",j,[e("div",B,[o[9]||(o[9]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Informações Pessoais",-1)),e("form",{onSubmit:k(x,["prevent"]),class:"space-y-6"},[e("div",N,[e("div",null,[o[4]||(o[4]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Nome Completo ",-1)),p(e("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.name=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[m,t.value.name]])]),e("div",null,[o[5]||(o[5]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),p(e("input",{id:"email","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.email=s),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[m,t.value.email]])]),e("div",null,[o[6]||(o[6]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"}," Telefone ",-1)),p(e("input",{id:"phone","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.phone=s),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[m,t.value.phone]])]),e("div",null,[o[7]||(o[7]=e("label",{for:"company",class:"block text-sm font-medium text-gray-700 mb-2"}," Empresa ",-1)),p(e("input",{id:"company","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.company=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[m,t.value.company]])])]),d.value?(r(),l("div",q,[e("p",D,n(d.value),1)])):g("",!0),u.value?(r(),l("div",I,[...o[8]||(o[8]=[e("p",{class:"text-sm text-green-600"},"Perfil atualizado com sucesso!",-1)])])):g("",!0),e("div",A,[e("button",{type:"button",onClick:b,class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"}," Cancelar "),e("button",{type:"submit",disabled:i.value,class:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(r(),l("span",H,"Salvando...")):(r(),l("span",G,"Salvar Alterações"))],8,F)])],32)])])])]))}});export{L as default};
